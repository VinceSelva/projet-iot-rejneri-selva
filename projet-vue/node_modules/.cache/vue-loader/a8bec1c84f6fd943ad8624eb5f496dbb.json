{"remainingRequest":"/mnt/d/NE PAS SUPPRIMER/DOCS/projet-iot-rejneri-selva/projet-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/d/NE PAS SUPPRIMER/DOCS/projet-iot-rejneri-selva/projet-vue/src/components/Graphiques.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/d/NE PAS SUPPRIMER/DOCS/projet-iot-rejneri-selva/projet-vue/src/components/Graphiques.vue","mtime":1587375707163},{"path":"/mnt/d/NE PAS SUPPRIMER/DOCS/projet-iot-rejneri-selva/projet-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/NE PAS SUPPRIMER/DOCS/projet-iot-rejneri-selva/projet-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/mnt/d/NE PAS SUPPRIMER/DOCS/projet-iot-rejneri-selva/projet-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/d/NE PAS SUPPRIMER/DOCS/projet-iot-rejneri-selva/projet-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovL3ZhciBIaWdoY2hhcnRzID0gcmVxdWlyZSgiaGlnaGNoYXJ0cyIpOw0KaW1wb3J0IENoYXJ0IGZyb20gIi4vQ2hhcnQiOw0KDQovL2ltcG9ydCBoaWdoY2hhcnRzIGZyb20gJ2h0dHBzOi8vY29kZS5oaWdoY2hhcnRzLmNvbS9oaWdoY2hhcnRzLmpzJw0KZXhwb3J0IGRlZmF1bHQgew0KPDw8PDw8PCBIRUFEDQogIG5hbWU6ICJHcmFwaGlxdWVzIiwNCj09PT09PT0NCiAgbmFtZTogIkhlbGxvV29ybGQiLA0KPj4+Pj4+PiBtYXN0ZXINCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgc3RhdGVzOiBbXSwNCiAgICAgIG5vZGVfdXJsOiAiaHR0cDovLzUxLjgzLjc3LjEyNzozMDAwIiwNCiAgICAgIHdoaWNoX2VzcHM6IFsNCiAgICAgICAgIjMwOkFFOkE0Ojg2OkMzOjIwIiwNCiAgICAgICAgIjMwOkFFOkE0Ojg2OkNBOjdDIiwNCiAgICAgICAgIiINCiAgICAgIF0sDQogICAgICBuYW1lOiAiIiwNCiAgICAgIGNvbXBvbmVudEtleTogMA0KICAgIH07DQogIH0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBDaGFydA0KICB9LA0KICBwcm9wczogew0KICAgIG1zZzogU3RyaW5nDQogIH0sDQogIG1vdW50ZWQoKSB7fSwNCg0KICBtZXRob2RzOiB7DQogICAgYWpvdXRNQUMoKSB7DQogICAgICB2YXIgYWRNYWMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiTUFDIik7DQogICAgICBjb25zb2xlLmxvZygiTUFDOiAiICsgYWRNYWMudmFsdWUpOw0KICAgICAgdGhpcy53aGljaF9lc3BzWzNdID0gYWRNYWMudmFsdWU7DQogICAgICBjb25zb2xlLmxvZyh0aGlzLndoaWNoX2VzcHMpOw0KICAgICAvLyB0aGlzLnN0YXJ0KCk7DQogICAgICB0aGlzLmZvcmNlUmVyZW5kZXIoKTsNCiAgICB9LA0KICAgICBmb3JjZVJlcmVuZGVyKCkgew0KICAgICAgdGhpcy5jb21wb25lbnRLZXkgKz0gMTsgIA0KICAgIH0sDQogICAgc3RhcnQ6IGZ1bmN0aW9uKCkgew0KICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLndoaWNoX2VzcHMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgdGhpcy5nZXRTdGF0ZXMoIi9lc3AvbGlnaHQiLCBbXSwgdGhpcy53aGljaF9lc3BzW2ldKTsNCiAgICAgIH0NCiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy53aGljaF9lc3BzLmxlbmd0aDsgaisrKSB7DQogICAgICAgIHRoaXMuZ2V0U3RhdGVzKCIvZXNwL3RlbXAiLCBbXSwgdGhpcy53aGljaF9lc3BzW2pdKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGdldFN0YXRlcyhwYXRoX29uX25vZGUsIHNlcmllLCB3aCkgew0KICAgICAgdGhpcy5ub2RlX3VybCA9ICJodHRwOi8vNTEuODMuNzcuMTI3OjMwMDAiOw0KDQogICAgICAvL2h0dHBzOi8vb3BlbmNsYXNzcm9vbXMuY29tL2ZyL2NvdXJzZXMvMTU2NzkyNi11bi1zaXRlLXdlYi1keW5hbWlxdWUtYXZlYy1qcXVlcnkvMTU2OTY0OC1sZS1mb25jdGlvbm5lbWVudC1kZS1hamF4DQogICAgICB2YXIgbGlzdGUgPSBbXTsNCiAgICAgIGxldCB1cmwgPSB0aGlzLm5vZGVfdXJsICsgcGF0aF9vbl9ub2RlICsgIj93aG89IiArIHdoOw0KICAgICAgZmV0Y2godXJsKQ0KICAgICAgICAudGhlbihyZXNwb25zZUpTT04gPT4gew0KICAgICAgICAgIHJldHVybiByZXNwb25zZUpTT04uanNvbigpOw0KICAgICAgICB9KQ0KICAgICAgICAudGhlbihyZXNwb25zZUpTID0+IHsNCiAgICAgICAgICB0aGlzLml0ZW1zID0gcmVzcG9uc2VKUzsNCg0KICAgICAgICAgIGlmICh0aGlzLml0ZW1zKSB7DQogICAgICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkgew0KICAgICAgICAgICAgICBsaXN0ZS5wdXNoKFtEYXRlLnBhcnNlKGVsZW1lbnQuZGF0ZSksIGVsZW1lbnQudmFsdWVdKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0NCiAgICAgICAgICBzZXJpZS5kYXRhID0gbGlzdGU7DQogICAgICAgIH0pOw0KICAgIH0sDQoNCiAgICBhc3luYyBzd2l0Y2hTdGF0ZSh3aCkgew0KICAgICAgdmFyIHVybCA9IHRoaXMubm9kZV91cmwgKyAiL2VzcC9sZWQiOw0KICAgICAgdmFyIG1lc3NhZ2UgPSAib24iOw0KICAgICAgdmFyIGhlYWRlciA9IG5ldyBIZWFkZXJzKCk7DQogICAgICBoZWFkZXIuYXBwZW5kKCJDb250ZW50LVR5cGUiLCAiYXBwbGljYXRpb24vanNvbiIpOw0KICAgICAgYXdhaXQgZmV0Y2godXJsLCB7DQogICAgICAgIG1ldGhvZDogIlBPU1QiLA0KICAgICAgICBoZWFkZXJzOiBoZWFkZXIsDQogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLA0KICAgICAgICAgIHdobzogd2gNCiAgICAgICAgfSkNCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICBhc3luYyBhZGRGbG90dGUod2gpIHsNCiAgICAgIHRoaXMud2hpY2hfZXNwcy5hcHBlbmQod2gpOw0KICAgICAgdmFyIHVybCA9IHRoaXMubm9kZV91cmwgKyAiL2Zsb3R0ZSI7DQogICAgICB2YXIgaGVhZGVyID0gbmV3IEhlYWRlcnMoKTsNCiAgICAgIGhlYWRlci5hcHBlbmQoIkNvbnRlbnQtVHlwZSIsICJhcHBsaWNhdGlvbi9qc29uIik7DQogICAgICBhd2FpdCBmZXRjaCh1cmwsIHsNCiAgICAgICAgbWV0aG9kOiAiUE9TVCIsDQogICAgICAgIGhlYWRlcnM6IGhlYWRlciwNCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgIHdobzogd2gNCiAgICAgICAgfSkNCiAgICAgIH0pOw0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["Graphiques.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Graphiques.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"hello\">\r\n    <h1>{{ msg }}</h1>\r\n    <div id=\"app\">\r\n       <label for=\"MAC\">Adresse MAC:</label>\r\n      <input type=\"text\" id=\"MAC\" name=\"MAC\"><br><br>\r\n      <md-button class=\"md-accent md-raised\" type=\"button\" v-on:click=\"ajoutMAC()\">Ajouter MAC en tant qu'invit√©</md-button>\r\n      <Chart  :k=\"componentKey\" :which_esps= \"which_esps\"/>\r\n    </div>\r\n    <!-- <md-input v-model=\"name\"></md-input>\r\n    <md-button class=\"md-primary md-raised\" v-on:click=\"addFloat(name)\">Add to fleet</md-button>-->\r\n      \r\n    <h1>LED states</h1>\r\n    <md-table>\r\n      <md-table-row slot=\"md-table-row\">\r\n        <md-table-head md-label=\"Name\">ESP</md-table-head>\r\n        <md-table-head md-label=\"Actions\">Action</md-table-head>\r\n      </md-table-row>\r\n      <md-table-row>\r\n        <md-table-cell md-label=\"Name\">30:AE:A4:86:C3:20</md-table-cell>\r\n\r\n        <md-table-cell md-label=\"Actions\">\r\n<<<<<<< HEAD\r\n          <md-button class=\"md-primary md-raised\" v-on:click=\"switchState('30:AE:A4:86:C3:20')\">PING</md-button>\r\n=======\r\n          <md-button class=\"md-primary md-raised\" v-on:click=\"switchState('B4:E6:2D:96:78:D9')\">PING</md-button>\r\n>>>>>>> master\r\n        </md-table-cell>\r\n      </md-table-row>\r\n      <md-table-row>\r\n        <md-table-cell md-label=\"Name\">80:7D:3A:FD:DD:08</md-table-cell>\r\n        <md-table-cell md-label=\"Actions\">\r\n<<<<<<< HEAD\r\n          <md-button class=\"md-primary md-raised\" v-on:click=\"switchState('30:AE:A4:86:C3:20')\">PING</md-button>\r\n=======\r\n          <md-button class=\"md-primary md-raised\" v-on:click=\"switchState('80:7D:3A:FD:DD:08')\">PING</md-button>\r\n>>>>>>> master\r\n        </md-table-cell>\r\n      </md-table-row>\r\n      <md-table-row>\r\n        <md-table-cell md-label=\"Name\">30:AE:A4:86:CA:7C</md-table-cell>\r\n        <md-table-cell md-label=\"Actions\">\r\n<<<<<<< HEAD\r\n          <md-button class=\"md-primary md-raised\" v-on:click=\"switchState('30:AE:A4:86:C3:20')\">PING</md-button>\r\n=======\r\n          <md-button class=\"md-primary md-raised\" v-on:click=\"switchState('30:AE:A4:86:CA:7C')\">PING</md-button>\r\n>>>>>>> master\r\n        </md-table-cell>\r\n      </md-table-row>\r\n      <md-table-row>\r\n        <md-table-cell md-label=\"Name\">{{ which_esps[3] }}</md-table-cell>\r\n        <md-table-cell md-label=\"Actions\">\r\n          <md-button class=\"md-primary md-raised\" v-on:click=\"switchState(which_esps[3])\">PING</md-button>\r\n        </md-table-cell>\r\n      </md-table-row>\r\n    </md-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//var Highcharts = require(\"highcharts\");\r\nimport Chart from \"./Chart\";\r\n\r\n//import highcharts from 'https://code.highcharts.com/highcharts.js'\r\nexport default {\r\n<<<<<<< HEAD\r\n  name: \"Graphiques\",\r\n=======\r\n  name: \"HelloWorld\",\r\n>>>>>>> master\r\n  data() {\r\n    return {\r\n      states: [],\r\n      node_url: \"http://51.83.77.127:3000\",\r\n      which_esps: [\r\n        \"30:AE:A4:86:C3:20\",\r\n        \"30:AE:A4:86:CA:7C\",\r\n        \"\"\r\n      ],\r\n      name: \"\",\r\n      componentKey: 0\r\n    };\r\n  },\r\n  components: {\r\n    Chart\r\n  },\r\n  props: {\r\n    msg: String\r\n  },\r\n  mounted() {},\r\n\r\n  methods: {\r\n    ajoutMAC() {\r\n      var adMac = document.getElementById(\"MAC\");\r\n      console.log(\"MAC: \" + adMac.value);\r\n      this.which_esps[3] = adMac.value;\r\n      console.log(this.which_esps);\r\n     // this.start();\r\n      this.forceRerender();\r\n    },\r\n     forceRerender() {\r\n      this.componentKey += 1;  \r\n    },\r\n    start: function() {\r\n      for (var i = 0; i < this.which_esps.length; i++) {\r\n        this.getStates(\"/esp/light\", [], this.which_esps[i]);\r\n      }\r\n      for (var j = 0; j < this.which_esps.length; j++) {\r\n        this.getStates(\"/esp/temp\", [], this.which_esps[j]);\r\n      }\r\n    },\r\n    getStates(path_on_node, serie, wh) {\r\n      this.node_url = \"http://51.83.77.127:3000\";\r\n\r\n      //https://openclassrooms.com/fr/courses/1567926-un-site-web-dynamique-avec-jquery/1569648-le-fonctionnement-de-ajax\r\n      var liste = [];\r\n      let url = this.node_url + path_on_node + \"?who=\" + wh;\r\n      fetch(url)\r\n        .then(responseJSON => {\r\n          return responseJSON.json();\r\n        })\r\n        .then(responseJS => {\r\n          this.items = responseJS;\r\n\r\n          if (this.items) {\r\n            this.items.forEach(function(element) {\r\n              liste.push([Date.parse(element.date), element.value]);\r\n            });\r\n          }\r\n          serie.data = liste;\r\n        });\r\n    },\r\n\r\n    async switchState(wh) {\r\n      var url = this.node_url + \"/esp/led\";\r\n      var message = \"on\";\r\n      var header = new Headers();\r\n      header.append(\"Content-Type\", \"application/json\");\r\n      await fetch(url, {\r\n        method: \"POST\",\r\n        headers: header,\r\n        body: JSON.stringify({\r\n          message: message,\r\n          who: wh\r\n        })\r\n      });\r\n    },\r\n\r\n    async addFlotte(wh) {\r\n      this.which_esps.append(wh);\r\n      var url = this.node_url + \"/flotte\";\r\n      var header = new Headers();\r\n      header.append(\"Content-Type\", \"application/json\");\r\n      await fetch(url, {\r\n        method: \"POST\",\r\n        headers: header,\r\n        body: JSON.stringify({\r\n          who: wh\r\n        })\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.md-table-head {\r\n  text-align: center;\r\n}\r\n</style>\r\n"]}]}